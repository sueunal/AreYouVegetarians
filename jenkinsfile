pipeline {
    agent any

    stages {
        stage('ğŸ“¥ Checkout') {
            steps {
                echo 'Git ì €ì¥ì†Œì—ì„œ í”„ë¡œì íŠ¸ ì½”ë“œ ê°€ì ¸ì˜¤ê¸°'
                checkout scm
            }
        }

        stage('ğŸ› ï¸ Build') {
            steps {
                echo 'Xcode í”„ë¡œì íŠ¸ ë¹Œë“œ ì‹œì‘'
                sh '''
                cd AreYouVegetarians
                xcodebuild clean -project AreYouVegetarians.xcodeproj -scheme AreYouVegetarians -configuration Debug
                '''
            }
        }

        stage('ğŸ§ª Test') {
            steps {
                echo 'Xcode í…ŒìŠ¤íŠ¸ ì‹¤í–‰'
                sh '''
                cd AreYouVegetarians
                xcodebuild test -project AreYouVegetarians.xcodeproj -scheme AreYouVegetarians -destination "platform=iOS Simulator,name=iPhone 14,OS=16.4"
                '''
            }
        }

        stage('âœ… Done') {
            steps {
                echo 'âœ… ë¹Œë“œ & í…ŒìŠ¤íŠ¸ ì™„ë£Œ'
            }
        }
    }
}

